{% extends 'base.html' %}
{% block content %}
    {% if view == 'base' %}
        <br>
        Do some admin things. Role: {{ role }}<br>
        <a href="/admin/user">Modify or add users</a>
    {% elif view == 'user' %}
        <br>
        <table class="table table-hover table-sm shadow-sm p-3 mb-5 bg-body rounded" style="max-width: 800px;">
            <thead class="table-dark">
              <tr>
                <th scope="col" width="50px">#</th>
                <th scope="col">Username</th>
                <th scope="col">Role</th>
                <th scope="col">Status</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody>
              {% for user in get_users() %}
              <tr>
                <th scope="row" class="align-middle">{{ user.id }}</th>
                <td class="align-middle">{{ user.username }}</td>
                <td class="align-middle">{{ user.role.name }}</td>
                <td class="align-middle">{{ user.flag }}</td>
                <td class="align-middle">
                      <button type="button" class="btn btn-link" data-bs-toggle="modal" data-bs-target="#editUser">
                        <i class="bi bi-pencil"></i>
                      </button>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
          <button type="button" class="btn btn-link" data-bs-toggle="modal" data-bs-target="#createUser">
            Add user</i>
        </button>
    {% endif %}
{% endblock %}